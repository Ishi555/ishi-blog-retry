---
type Props = {
  id: string;
};

const { id } = Astro.props;
---
{import.meta.env.PROD ? (
    <script is:inline async src={`https://www.googletagmanager.com/gtag/js?id=${id}`}></script>

    <script is:inline define:vars={{ id }}>
        window.dataLayer = window.dataLayer || [];
        function gtag() { window.dataLayer.push(arguments); }
        gtag("js", new Date());
        gtag("config", id);
    </script>
) :
    <script is:inline>
        console.log("Google Analytics is disabled in development mode.");
    </script>
}
