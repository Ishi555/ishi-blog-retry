---
import { HomeLayout } from "charm:layouts";
import { PostList } from "charm:components";
import { getPostEntries } from "../utils/collectionUtils";

const entries = await getPostEntries();
const p = Astro.url.searchParams.get("p");
const page = p ? parseInt(p) : 0;
---

<HomeLayout useH1>
  <h2>Posts</h2>
  <PostList {page} {entries} />
</HomeLayout>

<style>
  h2 {
    visibility: hidden;
  }
</style>
